---
layout: default
id: api-doc
---

<div class="ml-wrapper">
    <main role="main">
        <section>
            <div class="ml-bounds row">
                <div class="mesh-12 mesh-m-9">
                    <h1>Source: shared/js/onImagesLoads.js</h1>
                    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>(function (window, ch) {
    'use strict';

    /**
     * Executes a callback function when the images of a query selection loads.
     * @memberof! ch
     * @param $el An image or a collection of images.
     * @param callback The handler the component will fire after the images loads.
     * @example
     * $('selector').onImagesLoads(function () {
     *     console.log('The size of the loaded image is ' + this.width);
     * });
     */
    function onImagesLoads($el, callback) {

        $el
            .one('load', function () {
                var len = $el.length;

                window.setTimeout(function () {
                    if (--len &lt;= 0) { callback.call($el); }
                }, 200);
            })
            .each(function () {
                // Cached images don't fire load sometimes, so we reset src.
                if (this.complete || this.complete === undefined) {
                    var src = this.src;
                    // Data uri fix bug in web-kit browsers
                    this.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';
                    this.src = src;
                }
            });
    }

    ch.onImagesLoads = onImagesLoads;

}(this, this.ch));</code></pre>
        </article>
    </section>




                </div>

                <nav class="mesh-12 mesh-m-3 chico-nav">
                    <h2>Components</h2><ul><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li></ul><h2>Namespaces</h2><ul><li>undefined</li><li>undefined</li><li>undefined</li><li>undefined</li></ul><h2>Mixins</h2><ul><li><a href="../collapsible.html">Collapsible</a></li><li><a href="../content.html">Content</a></li></ul>
                </nav>
            </div>
        </section>
    </main>
</div>

<script src="/chico/src/js/prism.js"></script>
<script>
    $(function () {
        $("#copyright").text((new Date().getFullYear()) + " ");
    });
</script>